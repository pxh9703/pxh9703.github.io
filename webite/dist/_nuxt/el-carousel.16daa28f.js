import{h as oe,ah as ee,s as me,G as He,r as _,k as P,z as e,f as W,B as de,C as Be,n as Oe,j as Pe,g as he,l as te,m as pe,o as H,c as R,a as Z,I as ue,w as x,O as Y,y as B,R as q,b as G,P as J,$ as ie,L as X,x as ge,K as ye,F as Ve,V as ze,t as Re,A as De,q as je,ai as Fe}from"./entry.a69ecbf9.js";import{d as Ce,m as Ke,h as Ue,E as ce,x as We,y as qe,_ as Ie,H as Ge,w as Xe,l as Ye}from"./base.3d3ddc76.js";import{t as fe}from"./throttle.5eab4a2d.js";const Q=a=>{const b=oe(a)?a:[a],o=[];return b.forEach(s=>{var p;oe(s)?o.push(...Q(s)):ee(s)&&oe(s.children)?o.push(...Q(s.children)):(o.push(s),ee(s)&&((p=s.component)!=null&&p.subTree)&&o.push(...Q(s.component.subTree)))}),o},Je=(a,b,o)=>Q(a.subTree).filter(i=>{var f;return ee(i)&&((f=i.type)==null?void 0:f.name)===b&&!!i.component}).map(i=>i.component.uid).map(i=>o[i]).filter(i=>!!i),Qe=(a,b)=>{const o={},s=me([]);return{children:s,addChild:f=>{o[f.uid]=f,s.value=Je(a,b,o)},removeChild:f=>{delete o[f],s.value=s.value.filter(n=>n.uid!==f)}}},Ze=Ce({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),xe={change:(a,b)=>[a,b].every(Ke)},we=Symbol("carouselContextKey"),ve=300,et=(a,b,o)=>{const{children:s,addChild:p,removeChild:i}=Qe(he(),"ElCarouselItem"),f=He(),n=_(-1),g=_(null),k=_(!1),y=_(),N=_(0),S=_(!0),T=P(()=>a.arrow!=="never"&&!e(C)),E=P(()=>s.value.some(t=>t.props.label.toString().length>0)),A=P(()=>a.type==="card"),C=P(()=>a.direction==="vertical"),L=P(()=>a.height!=="auto"?{height:a.height}:{height:`${N.value}px`,overflow:"hidden"}),D=fe(t=>{m(t)},ve,{trailing:!0}),j=fe(t=>{se(t)},ve),r=t=>S.value?n.value<=1?t<=1:t>1:!0;function l(){g.value&&(clearInterval(g.value),g.value=null)}function v(){a.interval<=0||!a.autoplay||g.value||(g.value=setInterval(()=>h(),a.interval))}const h=()=>{n.value<s.value.length-1?n.value=n.value+1:a.loop&&(n.value=0)};function m(t){if(Pe(t)){const z=s.value.filter(O=>O.props.name===t);z.length>0&&(t=s.value.indexOf(z[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const c=s.value.length,$=n.value;t<0?n.value=a.loop?c-1:0:t>=c?n.value=a.loop?0:c-1:n.value=t,$===n.value&&u($),ne()}function u(t){s.value.forEach((c,$)=>{c.translateItem($,n.value,t)})}function M(t,c){var $,z,O,K;const U=e(s),re=U.length;if(re===0||!t.states.inStage)return!1;const Ne=c+1,Te=c-1,le=re-1,Me=U[le].states.active,$e=U[0].states.active,Ae=(z=($=U[Ne])==null?void 0:$.states)==null?void 0:z.active,Le=(K=(O=U[Te])==null?void 0:O.states)==null?void 0:K.active;return c===le&&$e||Ae?"left":c===0&&Me||Le?"right":!1}function F(){k.value=!0,a.pauseOnHover&&l()}function I(){k.value=!1,v()}function d(t){e(C)||s.value.forEach((c,$)=>{t===M(c,$)&&(c.states.hover=!0)})}function w(){e(C)||s.value.forEach(t=>{t.states.hover=!1})}function V(t){n.value=t}function se(t){a.trigger==="hover"&&t!==n.value&&(n.value=t)}function _e(){m(n.value-1)}function Se(){m(n.value+1)}function ne(){l(),a.pauseOnHover||v()}function ke(t){a.height==="auto"&&(N.value=t)}function Ee(){var t;const c=(t=f.default)==null?void 0:t.call(f);if(!c)return null;const $=Q(c),z="ElCarouselItem",O=$.filter(K=>ee(K)&&K.type.name===z);return(O==null?void 0:O.length)===2&&a.loop&&!A.value?(S.value=!0,O):(S.value=!1,null)}W(()=>n.value,(t,c)=>{u(c),S.value&&(t=t%2,c=c%2),c>-1&&b("change",t,c)}),W(()=>a.autoplay,t=>{t?v():l()}),W(()=>a.loop,()=>{m(n.value)}),W(()=>a.interval,()=>{ne()});const ae=me();return de(()=>{W(()=>s.value,()=>{s.value.length>0&&m(a.initialIndex)},{immediate:!0}),ae.value=Ue(y.value,()=>{u()}),v()}),Be(()=>{l(),y.value&&ae.value&&ae.value.stop()}),Oe(we,{root:y,isCardType:A,isVertical:C,items:s,loop:a.loop,addItem:p,removeItem:i,setActiveItem:m,setContainerHeight:ke}),{root:y,activeIndex:n,arrowDisplay:T,hasLabel:E,hover:k,isCardType:A,items:s,isVertical:C,containerStyle:L,isItemsTwoLength:S,handleButtonEnter:d,handleButtonLeave:w,handleIndicatorClick:V,handleMouseEnter:F,handleMouseLeave:I,setActiveItem:m,prev:_e,next:Se,PlaceholderItem:Ee,isTwoLengthShow:r,throttledArrowClick:D,throttledIndicatorHover:j}},tt=["onMouseenter","onClick"],st={key:0},at="ElCarousel",ot=te({name:at}),nt=te({...ot,props:Ze,emits:xe,setup(a,{expose:b,emit:o}){const s=a,{root:p,activeIndex:i,arrowDisplay:f,hasLabel:n,hover:g,isCardType:k,items:y,isVertical:N,containerStyle:S,handleButtonEnter:T,handleButtonLeave:E,handleIndicatorClick:A,handleMouseEnter:C,handleMouseLeave:L,setActiveItem:D,prev:j,next:r,PlaceholderItem:l,isTwoLengthShow:v,throttledArrowClick:h,throttledIndicatorHover:m}=et(s,o),u=pe("carousel"),M=P(()=>{const I=[u.b(),u.m(s.direction)];return e(k)&&I.push(u.m("card")),I}),F=P(()=>{const I=[u.e("indicators"),u.em("indicators",s.direction)];return e(n)&&I.push(u.em("indicators","labels")),s.indicatorPosition==="outside"&&I.push(u.em("indicators","outside")),e(N)&&I.push(u.em("indicators","right")),I});return b({setActiveItem:D,prev:j,next:r}),(I,d)=>(H(),R("div",{ref_key:"root",ref:p,class:B(e(M)),onMouseenter:d[6]||(d[6]=q((...w)=>e(C)&&e(C)(...w),["stop"])),onMouseleave:d[7]||(d[7]=q((...w)=>e(L)&&e(L)(...w),["stop"]))},[Z("div",{class:B(e(u).e("container")),style:ye(e(S))},[e(f)?(H(),ue(ie,{key:0,name:"carousel-arrow-left",persisted:""},{default:x(()=>[Y(Z("button",{type:"button",class:B([e(u).e("arrow"),e(u).em("arrow","left")]),onMouseenter:d[0]||(d[0]=w=>e(T)("left")),onMouseleave:d[1]||(d[1]=(...w)=>e(E)&&e(E)(...w)),onClick:d[2]||(d[2]=q(w=>e(h)(e(i)-1),["stop"]))},[G(e(ce),null,{default:x(()=>[G(e(We))]),_:1})],34),[[J,(I.arrow==="always"||e(g))&&(s.loop||e(i)>0)]])]),_:1})):X("v-if",!0),e(f)?(H(),ue(ie,{key:1,name:"carousel-arrow-right",persisted:""},{default:x(()=>[Y(Z("button",{type:"button",class:B([e(u).e("arrow"),e(u).em("arrow","right")]),onMouseenter:d[3]||(d[3]=w=>e(T)("right")),onMouseleave:d[4]||(d[4]=(...w)=>e(E)&&e(E)(...w)),onClick:d[5]||(d[5]=q(w=>e(h)(e(i)+1),["stop"]))},[G(e(ce),null,{default:x(()=>[G(e(qe))]),_:1})],34),[[J,(I.arrow==="always"||e(g))&&(s.loop||e(i)<e(y).length-1)]])]),_:1})):X("v-if",!0),G(e(l)),ge(I.$slots,"default")],6),I.indicatorPosition!=="none"?(H(),R("ul",{key:0,class:B(e(F))},[(H(!0),R(Ve,null,ze(e(y),(w,V)=>Y((H(),R("li",{key:V,class:B([e(u).e("indicator"),e(u).em("indicator",I.direction),e(u).is("active",V===e(i))]),onMouseenter:se=>e(m)(V),onClick:q(se=>e(A)(V),["stop"])},[Z("button",{class:B(e(u).e("button"))},[e(n)?(H(),R("span",st,Re(w.props.label),1)):X("v-if",!0)],2)],42,tt)),[[J,e(v)(V)]])),128))],2)):X("v-if",!0)],34))}});var rt=Ie(nt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const lt=Ce({name:{type:String,default:""},label:{type:[String,Number],default:""}}),ut=(a,b)=>{const o=De(we),s=he(),p=.83,i=_(),f=_(!1),n=_(0),g=_(1),k=_(!1),y=_(!1),N=_(!1),S=_(!1),{isCardType:T,isVertical:E}=o;function A(r,l,v){const h=v-1,m=l-1,u=l+1,M=v/2;return l===0&&r===h?-1:l===h&&r===0?v:r<m&&l-r>=M?v+1:r>u&&r-l>=M?-2:r}function C(r,l){var v,h;const m=e(E)?((v=o.root.value)==null?void 0:v.offsetHeight)||0:((h=o.root.value)==null?void 0:h.offsetWidth)||0;return N.value?m*((2-p)*(r-l)+1)/4:r<l?-(1+p)*m/4:(3+p)*m/4}function L(r,l,v){const h=o.root.value;return h?((v?h.offsetHeight:h.offsetWidth)||0)*(r-l):0}const D=(r,l,v)=>{var h;const m=e(T),u=(h=o.items.value.length)!=null?h:Number.NaN,M=r===l;!m&&!Ge(v)&&(S.value=M||r===v),!M&&u>2&&o.loop&&(r=A(r,l,u));const F=e(E);k.value=M,m?(N.value=Math.round(Math.abs(r-l))<=1,n.value=C(r,l),g.value=e(k)?1:p):n.value=L(r,l,F),y.value=!0,M&&i.value&&o.setContainerHeight(i.value.offsetHeight)};function j(){if(o&&e(T)){const r=o.items.value.findIndex(({uid:l})=>l===s.uid);o.setActiveItem(r)}}return de(()=>{o.addItem({props:a,states:je({hover:f,translate:n,scale:g,active:k,ready:y,inStage:N,animating:S}),uid:s.uid,translateItem:D})}),Fe(()=>{o.removeItem(s.uid)}),{carouselItemRef:i,active:k,animating:S,hover:f,inStage:N,isVertical:E,translate:n,isCardType:T,scale:g,ready:y,handleItemClick:j}},it=te({name:"ElCarouselItem"}),ct=te({...it,props:lt,setup(a){const b=a,o=pe("carousel"),{carouselItemRef:s,active:p,animating:i,hover:f,inStage:n,isVertical:g,translate:k,isCardType:y,scale:N,ready:S,handleItemClick:T}=ut(b),E=P(()=>{const C=`${`translate${e(g)?"Y":"X"}`}(${e(k)}px)`,L=`scale(${e(N)})`;return{transform:[C,L].join(" ")}});return(A,C)=>Y((H(),R("div",{ref_key:"carouselItemRef",ref:s,class:B([e(o).e("item"),e(o).is("active",e(p)),e(o).is("in-stage",e(n)),e(o).is("hover",e(f)),e(o).is("animating",e(i)),{[e(o).em("item","card")]:e(y),[e(o).em("item","card-vertical")]:e(y)&&e(g)}]),style:ye(e(E)),onClick:C[0]||(C[0]=(...L)=>e(T)&&e(T)(...L))},[e(y)?Y((H(),R("div",{key:0,class:B(e(o).e("mask"))},null,2)),[[J,!e(p)]]):X("v-if",!0),ge(A.$slots,"default")],6)),[[J,e(S)]])}});var be=Ie(ct,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const dt=Xe(rt,{CarouselItem:be}),ht=Ye(be);export{dt as E,ht as a};
